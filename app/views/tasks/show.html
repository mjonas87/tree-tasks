<div id="task">
  <h1>Tasks</h1>
  <div id="sub-tasks">
    <table class="table">
      <tbody>
        <!-- <tr is="task-row" v-for="task in tasks" :task="task"></tr> -->
      </tbody>
    </table>
  </div>
</div>

<script id="task-row" type="text/x-template">
  <tr>
    <td>
      <!-- Show input when in edit mode -->
      <div v-if="editMode">
        <input type="text" v-model="task.name"><br>
        <span style="color:red">{{ errors.name }}</span>
      </div>
      <a v-else href="/tasks/#{{task.id}}">{{ task.name }}</div>
    </td>
    <td>
      <span class="badge badge-primary">{{ task.sub_tasks ? task.sub_tasks.length : 0 }}</span>
    </td>
    <td>
      <button v-if="editMode" @click="updateTask">Save</button>
      <button v-else @click="editMode = true">Edit</button>
    </td>
  </tr>
</script>

<script type="text/javascript" src="assets/task.js"></script>
